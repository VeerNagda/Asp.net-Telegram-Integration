{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst _c0 = [\"script\"];\nconst _c1 = [\"*\"];\nexport class TelegramLoginComponent {\n  convertToScript() {\n    const element = this.script.nativeElement;\n    const script = document.createElement('script');\n    script.src = 'https://telegram.org/js/telegram-widget.js?22';\n    script.setAttribute('data-telegram-login', \"SoftconBot\");\n    script.setAttribute('data-size', 'small');\n    script.setAttribute('data-user');\n    // Callback function in global scope\n    script.setAttribute('data-onauth', 'loginViaTelegram(user)');\n    script.setAttribute('data-request-access', 'write');\n    element.parentElement.replaceChild(script, element);\n  }\n  ngAfterViewInit() {\n    this.convertToScript();\n  }\n}\nTelegramLoginComponent.ɵfac = function TelegramLoginComponent_Factory(t) {\n  return new (t || TelegramLoginComponent)();\n};\nTelegramLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TelegramLoginComponent,\n  selectors: [[\"app-telegram-login\"]],\n  viewQuery: function TelegramLoginComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.script = _t.first);\n    }\n  },\n  ngContentSelectors: _c1,\n  decls: 3,\n  vars: 0,\n  consts: [[\"style.display\", \"none\"], [\"script\", \"\"]],\n  template: function TelegramLoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0, 1);\n      i0.ɵɵprojection(2);\n      i0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;AAMA,OAAM,MAAOA,sBAAsB;EAIjCC,eAAe;IACb,MAAMC,OAAO,GAAG,IAAI,CAACC,MAAM,CAACC,aAAa;IACzC,MAAMD,MAAM,GAAGE,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CH,MAAM,CAACI,GAAG,GAAG,+CAA+C;IAC5DJ,MAAM,CAACK,YAAY,CAAC,qBAAqB,EAAE,YAAY,CAAC;IACxDL,MAAM,CAACK,YAAY,CAAC,WAAW,EAAE,OAAO,CAAC;IACzCL,MAAM,CAACK,YAAY,CAAC,WAAW,CAAC;IAChC;IACAL,MAAM,CAACK,YAAY,CAAC,aAAa,EAAE,wBAAwB,CAAC;IAC5DL,MAAM,CAACK,YAAY,CAAC,qBAAqB,EAAE,OAAO,CAAC;IACnDN,OAAO,CAACO,aAAa,CAACC,YAAY,CAACP,MAAM,EAAED,OAAO,CAAC;EACrD;EAEAS,eAAe;IACb,IAAI,CAACV,eAAe,EAAE;EACxB;;AAnBWD,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAY;EAAAC;IAAA;;;;;;;;;;;;;;;MAFtBC,iCAAkC;MAAAA,kBAAyB;MAAAA,iBAAM","names":["TelegramLoginComponent","convertToScript","element","script","nativeElement","document","createElement","src","setAttribute","parentElement","replaceChild","ngAfterViewInit","selectors","viewQuery","i0"],"sourceRoot":"","sources":["D:\\ASP\\Telegram Integration\\Telegram Integration\\ClientApp\\src\\app\\telegram-login\\telegram-login.component.ts"],"sourcesContent":["import {AfterViewInit, Component, ElementRef, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'app-telegram-login',\n  template: '<div #script style.display=\"none\"><ng-content></ng-content></div>',\n})\nexport class TelegramLoginComponent implements AfterViewInit{\n\n  @ViewChild('script', {static: true}) script!: ElementRef;\n\n  convertToScript() {\n    const element = this.script.nativeElement;\n    const script = document.createElement('script');\n    script.src = 'https://telegram.org/js/telegram-widget.js?22';\n    script.setAttribute('data-telegram-login', \"SoftconBot\");\n    script.setAttribute('data-size', 'small');\n    script.setAttribute('data-user')\n    // Callback function in global scope\n    script.setAttribute('data-onauth', 'loginViaTelegram(user)');\n    script.setAttribute('data-request-access', 'write');\n    element.parentElement.replaceChild(script, element);\n  }\n\n  ngAfterViewInit() {\n    this.convertToScript();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}